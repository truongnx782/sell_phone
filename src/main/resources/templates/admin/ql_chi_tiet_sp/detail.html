<!DOCTYPE html>
<html lang="en" class="light-style layout-menu-fixed" dir="ltr" data-theme="theme-default" data-assets-path="../assets/"
      data-template="vertical-menu-template-free" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">

    <title>Chi tiết sản phẩm</title>
</head>
<link rel="icon" type="image/x-icon" th:href="@{/assets/img/favicon/logoshop.ico}">
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link
        href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet"/>
<link rel="stylesheet" th:href="@{/assets/vendor/fonts/boxicons.css}">
<link rel="stylesheet" th:href="@{/assets/css/demo.css}">
<link rel="stylesheet" th:href="@{/assets/css/style.css}">
<link rel="stylesheet" th:href="@{/assets/vendor/css/core.css}" class="template-customizer-core-css">
<link rel="stylesheet" th:href="@{/assets/vendor/css/theme-default.css}" class="template-customizer-theme-css">
<link rel="stylesheet" th:href="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script type="text/javascript" th:src="@{/assets/vendor/js/helpers.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/config.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>


<body>
<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <!-- Menu -->
        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
            <div class="app-brand demo">
                <a href="layout_tt.html" class="app-brand-link">
                    <img th:src="@{/assets/img/icons/logo/logo.png}" style="width: 202px; height: 58px">
                </a>
                <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
                    <i class="bx bx-chevron-left bx-sm align-middle"></i>
                </a>
            </div>

            <div class="menu-inner-shadow"></div>

            <ul class="menu-inner py-1">
                <!-- Dashboard -->
                <li class="menu-item">
                    <a th:onclick="|window.location.href='/thong-ke';|" class="menu-link">
                        <i class="menu-icon tf-icons bx bx-home-circle"></i>
                        <div data-i18n="Analytics">Thống kê</div>
                    </a>
                </li>

                <!--                Bán hàng tại quầy-->
                <li class="menu-item">
                    <a th:onclick="|window.location.href='/ban-hang-tai-quay/index';|" class="menu-link">
                        <i class='bx bxs-cart-alt me-3' ></i>
                        <div>Bán hàng tại quầy</div>
                    </a>
                </li>
                <!--                Quản lý đơn hàng-->
                <li class="menu-item">
                    <a th:onclick="|window.location.href='/quan-ly-don-hang/hien-thi';|" class="menu-link">
                        <i class='bx bxs-receipt me-3' ></i>
                        <div>Quản lý đơn hàng</div>
                    </a>

                </li>
                <!--                Quản lý sản phẩm-->
                <li class="menu-item active">
                    <a href="javascript:void(0);" class="menu-link menu-toggle">
                        <i class='bx bxs-shopping-bag me-3' ></i>
                        <div data-i18n="Misc">Quản lý sản phẩm</div>
                    </a>
                    <ul class="menu-sub">
                        <li class="menu-item active">
                            <a th:onclick="|window.location.href='/san-pham/index';|" class="menu-link">
                                <div>Sản phẩm</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/cameraTruoc/index';|" class="menu-link">
                                <div>Camera trước</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/cameraSau/index';|" class="menu-link">
                                <div >Camera sau</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/chip/index';|" class="menu-link">
                                <div>Chip</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/hang/index';|" class="menu-link">
                                <div >Hãng</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/he-dieu-hanh/index';|" class="menu-link">
                                <div>Hệ điều hành</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/man-hinh/index';|" class="menu-link">
                                <div >Màn hình</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/mau-sac/index';|" class="menu-link">
                                <div>Màu sắc</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/pin/index';|" class="menu-link">
                                <div >Pin</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/ram/index';|" class="menu-link">
                                <div>RAM</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/rom/index';|" class="menu-link">
                                <div >ROM</div>
                            </a>
                        </li>

                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/sim/index';|" class="menu-link">
                                <div >Sim</div>
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- Quản lý phiếu giảm giá-->
                <li class="menu-item">
                    <a th:onclick="|window.location.href='/phieu-giam-gia/index';|" class="menu-link">
                        <i class='bx bxs-discount me-3' ></i>
                        <div>Phiếu giảm giá</div>
                    </a>
                </li>

                <!-- Quản lý nhân viên -->
                <li class="menu-item">
                    <a href="javascript:void(0);" class="menu-link menu-toggle">
                        <i class='bx bxs-shopping-bag me-3' ></i>
                        <div data-i18n="Misc">Quản lý nhân viên</div>
                    </a>
                    <ul class="menu-sub">
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/nhan-vien/hien-thi';|" class="menu-link">
                                <div>Nhân viên</div>
                            </a>
                        </li>
                        <li class="menu-item">
                            <a th:onclick="|window.location.href='/chuc-vu/index';|" class="menu-link">
                                <div>Chức vụ</div>
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- Quản lý khách hàng -->
                <li class="menu-item">
                    <a th:onclick="|window.location.href='/khach-hang/hien-thi';|" class="menu-link">
                        <i class='bx bxs-user-detail me-3'></i>
                        <div>Quản lý khách hàng</div>
                    </a>
                </li>
            </ul>
        </aside>
        <!-- / Menu -->
        <!-- Layout container -->
        <div class="layout-page">
            <nav class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
                 id="layout-navbar">

                <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
                    <!-- Search -->
                    <div class="fw-bold py-3 mb-2 mt-2">
                        <a th:href="@{'/san-pham/index'}" class="text-decoration-none">
                            <span class="text-muted fw-light" th:text="${message_title1}"></span>
                        </a>
                        /
                        <span th:text="${message_title2}"></span>
                    </div>

                    <ul class="navbar-nav flex-row align-items-center ms-auto">
                        <!-- Place this tag where you want the button to render. -->

                        <!-- User -->
                        <li class="nav-item navbar-dropdown dropdown-user dropdown">
                            <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);"
                               data-bs-toggle="dropdown">
                                <div class="avatar avatar-online">
                                    <img th:src="@{/assets/img/avatars/avt.png}" alt class="w-px-40 h-auto rounded-circle"/>
                                </div>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0 me-3">
                                                <div class="avatar avatar-online">
                                                    <img src="../assets/img/avatars/1.png" alt
                                                         class="w-px-40 h-auto rounded-circle"/>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1">
                                                <span class="fw-semibold d-block">John Doe</span>
                                                <small class="text-muted">Admin</small>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <div class="dropdown-divider"></div>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">
                                        <i class="bx bx-user me-2"></i>
                                        <span class="align-middle">My Profile</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">
                                        <i class="bx bx-cog me-2"></i>
                                        <span class="align-middle">Settings</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">
                        <span class="d-flex align-items-center align-middle">
                          <i class="flex-shrink-0 bx bx-credit-card me-2"></i>
                          <span class="flex-grow-1 align-middle">Billing</span>
                          <span class="flex-shrink-0 badge badge-center rounded-pill bg-danger w-px-20 h-px-20">4</span>
                        </span>
                                    </a>
                                </li>
                                <li>
                                    <div class="dropdown-divider"></div>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="auth-login-basic.html">
                                        <i class="bx bx-power-off me-2"></i>
                                        <span class="align-middle">Log Out</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!--/ User -->
                    </ul>
                </div>
            </nav>
            <div class="content-wrapper">
                <div class="container-xxl flex-grow-1 container-p-y">

                <div class="card mb-4 px-4 p-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <!-- INPUT SEARCH -->
                        <div>
                                <form class="form-inline d-flex align-items-center ms-5" action="/san-pham/chi-tiet-san-pham/search"
                                      method="post">
                                    <input class="form-control mr-sm-2 me-2" name="search" type="search"
                                           placeholder="Tìm kiếm sản phẩm"
                                           aria-label="Search" style="width: 200px">
                                    <div class="form-check col-sm-2 me-1 mb-2">
                                        <input class="form-check-input" type="radio" name="status" value="1"
                                               id="checkbox1">
                                        <label class="d-flex form-check-label" for="checkbox1">
                                            Hoạt động
                                        </label>
                                    </div>


                                    <div class="form-check col-sm-2 me-1 mb-2">
                                        <input class="form-check-input" type="radio" name="status" value="0"
                                               id="checkbox2">
                                        <label class="form-check-label" for="checkbox2">
                                            Đã đóng
                                        </label>
                                    </div>

<!--                                    <div class="row mb-3">-->

                                        <div class="col-sm-2 me-1">
                                            <label class="form-label">Màu sắc</label>
                                            <select name="idMauSac" class="form-select">
                                                <option th:value="null">--Chọn--</option>
                                                <option th:each="ms : ${lstMauSac}" th:value="${ms.id}"
                                                        th:text="${ms.tenMauSac}"></option>
                                            </select>
                                        </div>
                                        <div class="col-sm-2 me-1">

                                            <label class="form-label">Rom</label>
                                            <select name="idRom" class="form-select">
                                                <option th:value="null">--Chọn--</option>
                                                <option th:each="rom : ${lstRom}" th:value="${rom.id}"
                                                        th:text="${rom.tenRom}"></option>
                                            </select>
                                        </div>
                                        <div class="col-sm-2 me-1">

                                            <label class="form-label">Ram</label>
                                            <select name="idRam" class="form-select">
                                                <option th:value="null">--Chọn--</option>
                                                <option th:each="ram : ${lstRam}" th:value="${ram.id}"
                                                        th:text="${ram.ten}"></option>
                                            </select>
                                        </div>

                                    <div class="col-sm-2 me-1 pt-2 mt-3">
                                        <button class="btn my-4 text-white " style="background-color: #ff8548; color: #ffffff; border-color: #E7625F;" type="submit">Tìm kiếm</button>
                                    </div>
                                </form>

                        </div>


                        <!-- ALERT -->
                        <div th:if="${success != null}" class="success slideInRight" id="successMessage">
                            <div class="success__icon">
                                <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                                    <path clip-rule="evenodd"
                                          d="m12 1c-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11-4.925-11-11-11zm4.768 9.14c.0878-.1004.1546-.21726.1966-.34383.0419-.12657.0581-.26026.0477-.39319-.0105-.13293-.0475-.26242-.1087-.38085-.0613-.11844-.1456-.22342-.2481-.30879-.1024-.08536-.2209-.14938-.3484-.18828s-.2616-.0519-.3942-.03823c-.1327.01366-.2612.05372-.3782.1178-.1169.06409-.2198.15091-.3027.25537l-4.3 5.159-2.225-2.226c-.1886-.1822-.4412-.283-.7034-.2807s-.51301.1075-.69842.2929-.29058.4362-.29285.6984c-.00228.2622.09851.5148.28067.7034l3 3c.0983.0982.2159.1748.3454.2251.1295.0502.2681.0729.4069.0665.1387-.0063.2747-.0414.3991-.1032.1244-.0617.2347-.1487.3236-.2554z"
                                          fill="#ffffff" fill-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="success__title" th:text="${success}"></div>
                        </div>

                    </div>
                </div>

                <div class="card mb-4 px-4 p-3">


                    <script>
                        $(document).ready(function () {
                            $('.nav-tabs a[href="#Home"]').tab('show');

                            $('.nav-tabs a').on('click', function (e) {
                                e.preventDefault();
                                $(this).tab('show');
                            });
                        });
                    </script>
                    <div class="nav-align-top mb-4">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
<!--                                <a class="nav-link active" data-toggle="tab" href="#Home">-->
<!--                                    <i class="fas fa-list"></i> Danh sách chi tiết sản phẩm-->
<!--                                </a>-->
                                <button
                                        type="button"
                                        class="nav-link active"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#navs-top-home"
                                        aria-controls="navs-top-home"
                                        aria-selected="true"
                                >
                                    Danh sách chi tiết sản phẩm
                                </button>
                            </li>
                            <li class="nav-item">
<!--                                <a class="nav-link" data-toggle="tab" href="#Menu2">-->
<!--                                    <i class="fas fa-file-alt"></i> Danh sách Imei-->
<!--                                    <span class="badge rounded-pill badge-center h-px-20 w-px-20 bg-label-danger"><p  th:text="${listIM.size}"></p></span>-->

<!--                                </a>-->
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#navs-top-profile"
                                        aria-controls="navs-top-profile"
                                        aria-selected="false" >
                                    Danh sách Imei
                                </button>
                            </li>
                        </ul>
                    </div>

<!--                    <style>-->
<!--                        .nav-tabs .nav-item {-->
<!--                            margin-bottom: 5px; /* Khoảng cách giữa các tab */-->
<!--                        }-->

<!--                        .tab-content {-->
<!--                            padding: 10px; /* Khoảng cách giữa nội dung và lề trang */-->
<!--                            border: 1px solid #ccc; /* Viền của nội dung */-->
<!--                            border-top: none; /* Loại bỏ viền phía trên của nội dung */-->
<!--                        }-->


<!--                    </style>-->

                    <div class="tab-content">
                    <div class="tab-pane fade show active" id="navs-top-home" role="tabpanel">
<!--                        <div id="Home" class="tab-pane fade show active">-->
                            <div class="d-flex mb-3">
                                <input type="number" min="0" id="bulkPrice" class="form-control mr-2"
                                       placeholder="Nhập giá mới">
                                <button class="btn btn-primary" onclick="updateBulkPrice()" style="width: 300px">Cập nhật giá hàng loạt
                                </button>
                            </div>

                            <table class="table table-hover">
                                <thead>
                                <th><input type="checkbox" onclick="toggleSelectAll(this)"></th>
                                <th>STT</th>
                                <th>Mã sản phẩm</th>
                                <th>Tên sản phẩm</th>
                                <th>Màu sắc</th>
                                <th>ROM</th>
                                <th>RAM</th>
                                <th>Đơn giá</th>
                                <th>Số lượng</th>
                                <th>Trạng thái</th>
                                <th colspan="2">Thao tác</th>
                                </thead>
                                <tbody>
                                <tr th:each="ctsp, index : ${lstCTSP}">
                                    <td><input type="checkbox" class="row-checkbox" th:value="${ctsp.id}"></td>
                                    <td th:text="${index.index + 1}"></td>
                                    <td th:text="${ctsp.maChiTietSanPham}"></td>
                                    <td th:text="${ctsp.idSanPham.tenSanPham}"></td>
                                    <td th:text="${ctsp.idMauSac.tenMauSac}"></td>
                                    <td th:text="${ctsp.idROM.tenRom}"></td>
                                    <td th:text="${ctsp.idRAM.ten}"></td>
                                    <td>
                                        <form th:action="@{'/san-pham/chi-tiet-san-pham/update-price/' + ${ctsp.id}}"
                                              method="POST" class="update-price-form">
                                            <div class="input-group">
                                                <input class="form-control" style="width: 100px" type="number" min="0" maxlength="1000000000" th:value="${ctsp.giaBan}" name="price" disabled>
                                                <div class="input-group-append">
                                                    <span class="input-group-text">VND</span>
                                                </div>

                                                <div class="input-group-append">
                                                    <button type="button" class="btn btn-secondary" onclick="enableEdit(this)">Cập nhật</button>
                                                </div>
                                            </div>
                                        </form>
                                    </td>
                                    <td th:text="${lstSL[__${index.index}__]}"></td>
                                    <td>
                                        <span class="badge me-1"
                                              th:class="${ctsp.trangThai == 1 ? 'bg-label-success badge me-1' : 'badge me-1 bg-label-danger'}">
                                            [[${ctsp.trangThai == 1 ? 'Hoạt động' : 'Dừng hoạt động'}]]
                                        </span>
                                    </td>
                                    <td>

<!--                                        IMPORT IM-->
<!--                                        <form th:action="@{'/san-pham/import-spct/' + ${ctsp.id}}" method="POST"-->
<!--                                              th:if="${ctsp.trangThai==1}" enctype="multipart/form-data"-->
<!--                                              class="d-flex align-items-center">-->
<!--                                            <input type="hidden" th:value="${ctsp.idSanPham.id}" name="idURL">-->
<!--                                            <div class="input-group">-->
<!--                                                <input type="file" name="file" required accept=".xlsx, .xls"-->
<!--                                                       class="form-control form-control-sm">-->
<!--                                                <button type="submit" class="btn btn-primary btn-sm"><i-->
<!--                                                        class="bx bx-import"></i></button>-->
<!--                                            </div>-->
<!--                                        </form>-->


                                        <a class="btn bx bx-show px-0" th:href="@{'/san-pham/chi-tiet-san-pham/detail/' + ${ctsp.id}} ">
                                        </a>

                                        <a th:if="${ctsp.trangThai==1}"  th:attr="data-ctspId=${ctsp.id}"
                                           onclick="openModalCTSP(this.getAttribute('data-ctspId'))"
                                           class="btn px-0">
                                            <i class="bx bx-lock"></i>
                                        </a>
                                        <a  th:if="${ctsp.trangThai==0}"  th:attr="data-ctspId=${ctsp.id}"
                                            onclick="openModalRestore(this.getAttribute('data-ctspId'))" class="btn px-0">
                                            <i class="bx bx-refresh"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <div class="d-flex justify-content-center">
                                <!-- Phân trang khi không có điều kiện search -->
                                <div th:if="${lstCTSP.totalPages > 0 && checkSearch == null}"
                                     class="d-flex justify-content-between">
                                    <nav aria-label="...">
                                        <ul class="pagination">
                                            <li class="page-item"
                                                th:class="${lstCTSP.first} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link" th:href="@{'/san-pham/detail/' + ${idSP} + '?page=0'}"> << </a>
                                            </li>
                                            <li class="page-item "
                                                th:class="${lstCTSP.first} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link" th:href="@{'/san-pham/detail/' + ${idSP} + '?page=' + ${lstCTSP.number - 1}}"> < </a>
                                            </li>
                                            <li class="page-item active">
                                                <a class="page-link" th:text="${lstCTSP.number + 1+'/'+lstCTSP.totalPages}"></a>
                                            </li>
                                            <li class="page-item" th:class="${lstCTSP.last} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link" th:href="@{'/san-pham/detail/' + ${idSP} + '?page=' + ${lstCTSP.number + 1}}"> > </a>

                                            </li>
                                            <li class="page-item" th:class="${lstCTSP.last} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link" th:href="@{'/san-pham/detail/' + ${idSP} + '?page=' + ${lstCTSP.totalPages - 1}}"> >> </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>


                                <div th:if="${lstCTSP.totalPages > 0 && checkSearch!= null}"
                                     class="d-flex justify-content-between">
                                    <nav aria-label="...">
                                        <ul class="pagination">
                                            <li class="page-item"
                                                th:class="${lstCTSP.first} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link"
                                                   th:href="@{/san-pham/chi-tiet-san-pham/search(page=0, search=${search}, status=${status},idMauSac=${idMauSac},idRom=${idRom},idRam=${idRam})}"><<</a>
                                            </li>
                                            <li class="page-item "
                                                th:class="${lstCTSP.first} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link"
                                                   th:href="@{/san-pham/chi-tiet-san-pham/search(page=${lstCTSP.number - 1}, search=${search}, status=${status},idMauSac=${idMauSac},idRom=${idRom},idRam=${idRam})}"><</a>
                                            </li>
                                            <li class="page-item active">
                                                <a class="page-link" th:text="${lstCTSP.number + 1+'/'+lstCTSP.totalPages}"></a>
                                            </li>
                                            <li class="page-item" th:class="${lstCTSP.last} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link"
                                                   th:href="@{/san-pham/chi-tiet-san-pham/search(page=${lstCTSP.number + 1}, search=${search}, status=${status},idMauSac=${idMauSac},idRom=${idRom},idRam=${idRam})}"> > </a>

                                            </li>
                                            <li class="page-item" th:class="${lstCTSP.last} ? 'page-item disabled' : 'page-item'">
                                                <a class="page-link"
                                                   th:href="@{/san-pham/chi-tiet-san-pham/search(page=${lstCTSP.totalPages - 1}, search=${search}, status=${status},idMauSac=${idMauSac},idRom=${idRom},idRam=${idRam})}">>></a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>

                        </div>

<!--                        <div id="Menu2" class="tab-pane fade">-->
                        <div class="tab-pane fade" id="navs-top-profile" role="tabpanel">
                            <table class="table table-hover">
                                <thead>
                                <th>STT</th>
                                <th>Mã CTSP</th>
                                <th>Màu sắc</th>
                                <th>Ram</th>
                                <th>Rom</th>
                                <th>IM</th>
                                </thead>
                                <tbody>
                                <tr th:each="im, stat : ${listIM}">
                                    <td th:text="${stat.count}"></td>
                                    <td th:text="${im['MaChiTietSanPham']}"></td>
                                    <td th:text="${im['TenMauSac']}"></td>
                                    <td th:text="${im['TenRam']}"></td>
                                    <td th:text="${im['TenRom']}"></td>
                                    <td th:text="${im['maIM']}"></td>
                                </tr>
                                </tbody>
                            </table>


                        </div>

                    </div>


                </div>

                <!-- Modal Delete -->
                <div id="myModal" class="modal fade">
                    <div class="modal-dialog modal-confirm">
                        <div class="modal-content">
                            <div class="modal-header flex-column">
                                <i class="bi bi-x-circle" style="color: #bf2121; font-size: 50px;"></i>
                                <h4 class="modal-title w-100">Xác nhận đóng ?</h4>
                                <button type="button" class="btn-close" aria-label="Close"
                                        data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <p>Bạn xác nhận đóng sản phẩm chi tiết vừa chọn?</p>
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Trở lại</button>
                                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Xoá</button>
                            </div>
                        </div>
                    </div>
                </div>


                <script>
                    function openModalCTSP(ctspId) {
                        var deleteUrl = '/san-pham/chi-tiet-san-pham/delete/' + ctspId;
                        document.getElementById('confirmDeleteBtn').setAttribute('onclick', 'confirmDelete("' + deleteUrl + '")');
                        $('#myModal').modal('show');
                    }

                    function confirmDelete(deleteUrl) {
                        window.location.href = deleteUrl;
                    }
                </script>


                <!-- Modal restore -->
                <div id="modalRestore" class="modal fade">
                    <div class="modal-dialog modal-confirm">
                        <div class="modal-content">
                            <div class="modal-header flex-column">
                                <i class="bi bi-x-circle" style="color: #bf2121; font-size: 50px;"></i>
                                <h4 class="modal-title w-100">Xác nhận khôi phục?</h4>
                                <button type="button" class="btn-close" aria-label="Close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <p>Bạn xác nhận khôi phục sản phẩm vừa chọn?</p>
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Trở lại</button>
                                <button type="button" class="btn btn-success" id="confirmRestoreBtn">Khôi phục</button>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    function openModalRestore(sanPhamId) {
                        var restoreUrl = '/san-pham/chi-tiet-san-pham/restore/' + sanPhamId;
                        document.getElementById('confirmRestoreBtn').setAttribute('onclick', 'confirmRestore("' + restoreUrl + '")');
                        $('#modalRestore').modal('show');
                    }

                    function confirmRestore(restoreUrl) {
                        window.location.href = restoreUrl;
                    }
                </script>

                <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                <script>
                    function enableEdit(button) {
                        var form = button.closest('form');
                        var input = form.querySelector('input[name="price"]');
                        if (input.disabled) {
                            input.disabled = false;
                            button.classList.remove('btn-secondary');
                            button.classList.add('btn-success');
                            button.innerText = 'Lưu';
                        } else {
                            form.submit();
                        }
                    }
                </script>

                <script>
                    function enableEdit(button) {
                        var form = button.closest('form');
                        var input = form.querySelector('input[name="price"]');
                        if (input.disabled) {
                            input.disabled = false;
                            button.classList.remove('btn-secondary');
                            button.classList.add('btn-success');
                            button.innerText = 'Lưu';
                        } else {
                            form.submit();
                        }
                    }

                    function toggleSelectAll(selectAllCheckbox) {
                        var checkboxes = document.querySelectorAll('.row-checkbox');
                        checkboxes.forEach(checkbox => {
                            checkbox.checked = selectAllCheckbox.checked;
                        });
                    }

                    function updateBulkPrice() {
                        var selectedCheckboxes = document.querySelectorAll('.row-checkbox:checked');
                        var bulkPrice = document.getElementById('bulkPrice').value;
                        var ids = Array.from(selectedCheckboxes).map(cb => cb.value);
                        if (ids.length > 0 && bulkPrice) {
                            $.ajax({
                                url: '/san-pham/chi-tiet-san-pham/update-bulk-price',
                                method: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({ids: ids, price: bulkPrice}),
                                success: function (response) {
                                    location.reload(); // Reload the page to see the changes
                                },
                                error: function (error) {
                                    console.error('Error updating bulk price:', error);
                                }
                            });
                        } else {
                            alert('Vui lòng chọn ít nhất một sản phẩm và nhập giá mới.');
                        }
                    }
                </script>

                <!--thông báo success-->
                <script>
                    var successMessage = document.getElementById('successMessage');
                    if (successMessage) {
                        successMessage.classList.add('slideInRight');
                        setTimeout(function () {
                            successMessage.classList.remove('slideInRight');
                            successMessage.classList.add('slideOutRight');
                            setTimeout(function () {
                                successMessage.style.display = 'none';
                            }, 500); // Match this duration with slideOutRight animation duration
                        }, 4000);
                    }
                </script>


            </div>

            </div>
            <footer class="footer bg-light">
                <div
                        class="container-fluid d-flex flex-md-row flex-column justify-content-between align-items-md-center gap-1 container-p-x py-3">
                    <div>
                        <a href="https://themeselection.com/demo/sneat-bootstrap-html-admin-template/landing/"
                           target="_blank" class="footer-text fw-bolder ms-5">MPSHOP</a>
                        ©
                    </div>
                    <div>
                        <a href="#" class="btn btn-sm btn-outline-danger"><i class="bx bx-log-out-circle"></i>
                            Logout</a>
                    </div>
                </div>
            </footer>
        </div>

    </div>
</div>
</div>
<!-- / Layout page -->
</div>

<!-- Overlay -->
<div class="layout-overlay layout-menu-toggle">

</div>
</div>


<script th:src="@{/assets/vendor/libs/jquery/jquery.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/libs/popper/popper.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/js/bootstrap.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js}"></script>

<script type="text/javascript" th:src="@{/assets/vendor/js/menu.js}"></script>
<!-- endbuild -->

<!-- Vendors JS -->

<!-- Main JS -->
<script type="text/javascript" th:src="@{/assets/js/main.js}"></script>

<!-- Page JS -->
<script type="text/javascript" th:src="@{/assets/js/pages-account-settings-account.js}"></script>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

</body>
</html>